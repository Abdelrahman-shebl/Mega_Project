<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/roslib/0.21.0/roslib.min.js"></script>
  <title>ROS Service Example</title>
</head>
<body>

<script>
  const host = 'ws://localhost:9090';

  // Initialize ROS
  const ros = new ROSLIB.Ros({
    url: host
  });

  ros.on('connection', () => {
    console.log('Connected to ROSBridge');

    // Declare a service client
    const exampleService = new ROSLIB.Service({
      ros: ros,
      name: '/example_service',
      serviceType: 'std_srvs/SetBool'  // Replace with the actual service type
    });

    // Prepare a request for the service
    const request = new ROSLIB.ServiceRequest({
      data: 'Hello, ROS!'
    });

    // Make the service call
    exampleService.callService(request, function (result) {
      console.log('Result for service call:', result);
      // Process the result if needed
    });
  });

  ros.on('error', (error) => {
    console.error('Error connecting to ROSBridge:', error);
  });

  ros.on('close', () => {
    console.log('Disconnected from ROSBridge');
  });
</script>

</body>
</html>
